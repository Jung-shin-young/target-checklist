<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>â˜• ìš´ëª…ì˜ ì œë‹¨</title>
<style>
:root{
  --bg1:#060814;
  --bg2:#0d1530;
  --card:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.18);
  --text:#f2f5ff;
  --muted:rgba(242,245,255,.7);
  --danger:#ff4d6d;
  --life:#40f99b;
  --accent:#7aa2ff;
  --r:18px;
}
body{
  margin:0;
  font-family:system-ui,-apple-system;
  color:var(--text);
  background:
    radial-gradient(900px 600px at 20% 10%, rgba(122,162,255,.25), transparent 60%),
    radial-gradient(800px 600px at 80% 20%, rgba(255,77,109,.22), transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
}
.wrap{max-width:900px;margin:auto;padding:16px;}
.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:var(--r);
  padding:16px;
  backdrop-filter:blur(8px);
}
h1{margin:0 0 8px;font-size:20px;text-align:center;}
textarea{
  width:100%;min-height:80px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  color:white;padding:10px;
}
button{
  padding:10px 16px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  font-size:15px;
}
button.start{
  width:100%;
  background:linear-gradient(90deg,var(--accent),#b388ff);
  color:white;
  font-weight:700;
}
.stage{
  margin-top:16px;
  text-align:center;
}
.names{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
}
.name{
  padding:10px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  border:1px solid var(--stroke);
  transition:all .4s ease;
}
.dead{
  opacity:.25;
  filter:blur(2px);
  text-decoration:line-through;
}
.revive{
  background:rgba(64,249,155,.25);
  border-color:var(--life);
}
.final{
  font-size:30px;
  font-weight:900;
  color:var(--danger);
  text-shadow:0 0 18px rgba(255,77,109,.6);
}
.status{
  margin:14px 0;
  font-size:18px;
  color:var(--muted);
}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>â˜• ìš´ëª…ì˜ ì œë‹¨</h1>
    <textarea id="namesInput" placeholder="ì´ë¦„ ì…ë ¥ (ì¤„ë°”ê¿ˆ)
ì² ìˆ˜
ì˜í¬
ë¯¼ìˆ˜"></textarea>
    <button class="start" onclick="start()">ì˜ì‹ ì‹œì‘</button>

    <div class="stage">
      <div class="status" id="status"></div>
      <div class="names" id="names"></div>
    </div>
  </div>
</div>

<script>
let all=[], alive=[], dead=[];

function sleep(ms){return new Promise(r=>setTimeout(r,ms));}
function rand(arr){return arr[Math.floor(Math.random()*arr.length)];}

function render(){
  const box=document.getElementById("names");
  box.innerHTML="";
  all.forEach(n=>{
    const d=document.createElement("div");
    d.className="name";
    d.textContent=n;
    if(dead.includes(n)) d.classList.add("dead");
    if(alive.includes(n) && dead.length>0 && !dead.includes(n)){}
    box.appendChild(d);
  });
}

async function start(){
  const input=document.getElementById("namesInput").value
    .split("\n").map(x=>x.trim()).filter(Boolean);
  if(input.length<3){alert("ìµœì†Œ 3ëª…");return;}
  all=[...input];
  alive=[...input];
  dead=[];
  render();

  const status=document.getElementById("status");

  status.textContent="ì˜ì‹ì´ ì‹œì‘ë©ë‹ˆë‹¤â€¦";
  await sleep(1500);

  // 1ì°¨ ìˆ™ì²­
  status.textContent="ğŸ”¥ 1ì°¨ ìˆ™ì²­";
  await sleep(1000);
  while(alive.length > Math.ceil(all.length/2)){
    const v=rand(alive);
    alive=alive.filter(x=>x!==v);
    dead.push(v);
    render();
    await sleep(700);
  }

  // ë¶€í™œ
  status.textContent="âœ¨ ë¶€í™œì˜ ê¸°íšŒ";
  await sleep(1200);
  const revive=rand(dead);
  dead=dead.filter(x=>x!==revive);
  alive.push(revive);
  render();
  await sleep(1200);

  // 2ì°¨ ìˆ™ì²­
  status.textContent="ğŸ”ª 2ì°¨ ìˆ™ì²­";
  await sleep(1000);
  while(alive.length>2){
    const v=rand(alive);
    alive=alive.filter(x=>x!==v);
    dead.push(v);
    render();
    await sleep(800);
  }

  // ìµœí›„
  status.textContent="â³ ìµœí›„ì˜ 2ì¸â€¦";
  await sleep(2500);

  const loser=rand(alive);
  status.innerHTML=`â˜• <span class="final">${loser}</span> ì»¤í”¼ ì˜ê¸°`;
}
</script>
</body>
</html>
